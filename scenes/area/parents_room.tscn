[gd_scene load_steps=23 format=3 uid="uid://dv7qy7g7h34a2"]

[ext_resource type="PackedScene" uid="uid://dfv81o6ccfwxy" path="res://scenes/player.tscn" id="1_c3u0e"]
[ext_resource type="Script" uid="uid://bfviqapwa0mw4" path="res://scripts/player.gd" id="2_82n0d"]
[ext_resource type="Texture2D" uid="uid://nisesdd5e3uy" path="res://assets/interior/KAMAR_ORANG_TUAM_ASSET_UTAMA.png" id="2_m45qd"]
[ext_resource type="Script" uid="uid://bn6athy6wpobe" path="res://scripts/Logic-Script-Parents/bed.gd" id="3_4f8kt"]
[ext_resource type="Script" uid="uid://ck43kbv10actk" path="res://scripts/Logic-Script-Parents/clock.gd" id="3_llfqi"]
[ext_resource type="Texture2D" uid="uid://1vgvvel2gwr4" path="res://assets/background/background_parents.png" id="3_m45qd"]
[ext_resource type="Script" uid="uid://bwsbkgwlcqb78" path="res://scripts/Logic-Script-Parents/door.gd" id="3_nal78"]
[ext_resource type="Texture2D" uid="uid://cdr13pucf72h1" path="res://assets/interior/bedroom.png" id="3_wa058"]
[ext_resource type="AudioStream" uid="uid://5m4yoafifa8s" path="res://assets/sound/CLOCK SOUND.wav" id="4_hh1kk"]
[ext_resource type="Script" uid="uid://de4t14h56dcgg" path="res://scripts/Logic-Script-Parents/drawer.gd" id="4_ipscb"]
[ext_resource type="Script" uid="uid://hlhjwh1m4an4" path="res://scripts/Logic-Script-Parents/wardrobe.gd" id="8_sqprf"]
[ext_resource type="Script" uid="uid://bq0op0ose0c4l" path="res://scripts/ui.gd" id="10_nk27n"]
[ext_resource type="FontFile" uid="uid://copw1ojxa4anc" path="res://assets/fonts/IndieFlower-Regular.ttf" id="11_sqprf"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m45qd"]
size = Vector2(2922, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wa058"]
size = Vector2(10, 864)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_llfqi"]
size = Vector2(97, 325)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ipscb"]
size = Vector2(51, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4f8kt"]
size = Vector2(3.8338466, 2.125)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nal78"]
size = Vector2(0.9392874, 14.650003)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nk27n"]
size = Vector2(186.5, 314.5)

[sub_resource type="AtlasTexture" id="AtlasTexture_hh1kk"]
atlas = ExtResource("2_m45qd")
region = Rect2(1024, 1024, 1024, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_jwx35"]
atlas = ExtResource("2_m45qd")
region = Rect2(1024, 1024, 1024, 1024)

[node name="Parents Room" type="Node2D"]

[node name="World" type="Node2D" parent="."]

[node name="Background" type="Node2D" parent="World"]

[node name="BackgroundParents" type="Sprite2D" parent="World/Background"]
position = Vector2(248, 0)
scale = Vector2(0.5, 0.5)
texture = ExtResource("3_m45qd")

[node name="World_Boundaries" type="Node2D" parent="World"]
position = Vector2(0, -40)

[node name="Floor" type="StaticBody2D" parent="World/World_Boundaries"]
position = Vector2(640, 360)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/World_Boundaries/Floor"]
position = Vector2(-329, -112)
shape = SubResource("RectangleShape2D_m45qd")

[node name="Wall_Left" type="StaticBody2D" parent="World/World_Boundaries"]
position = Vector2(640, 360)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/World_Boundaries/Wall_Left"]
z_index = 11
position = Vector2(-1346, -390)
shape = SubResource("RectangleShape2D_wa058")

[node name="Wall_Right" type="StaticBody2D" parent="World/World_Boundaries"]
position = Vector2(640, 360)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/World_Boundaries/Wall_Right"]
position = Vector2(563, -392)
shape = SubResource("RectangleShape2D_wa058")

[node name="Interior" type="Node2D" parent="World"]

[node name="dressing table" type="Sprite2D" parent="World/Interior"]
position = Vector2(235, 80)
scale = Vector2(0.31201175, 0.27685547)
texture = ExtResource("2_m45qd")
region_enabled = true
region_rect = Rect2(2048, 1024, 1024, 1024)

[node name="Interactable" type="Node2D" parent="."]

[node name="Clock" type="Area2D" parent="Interactable" node_paths=PackedStringArray("sprite", "ui_node", "sound_player") groups=["NoiseSource"]]
script = ExtResource("3_llfqi")
sprite = NodePath("Sprite2D")
ui_node = NodePath("../../UI")
sound_player = NodePath("Sound")

[node name="Sprite2D" type="Sprite2D" parent="Interactable/Clock"]
position = Vector2(492, 30.000002)
scale = Vector2(0.39013672, 0.4003906)
texture = ExtResource("2_m45qd")
region_enabled = true
region_rect = Rect2(0, 0, 1024, 1024)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactable/Clock"]
position = Vector2(490.5, 40.5)
shape = SubResource("RectangleShape2D_llfqi")

[node name="Sound" type="AudioStreamPlayer2D" parent="Interactable/Clock"]
stream = ExtResource("4_hh1kk")
volume_db = 5.0
max_distance = 10000.0

[node name="Drawer" type="Area2D" parent="Interactable" node_paths=PackedStringArray("ui_node", "sprite")]
script = ExtResource("4_ipscb")
ui_node = NodePath("../../UI")
sprite = NodePath("Sprite2D")
letter_texture = ExtResource("2_m45qd")
letter_region = Rect2(1024, 1024, 1024, 1024)
region_closed = Rect2(0, 1024, 1024, 1024)
region_open_full = Rect2(2048, 0, 1024, 1024)
region_open_empty = Rect2(0, 1024, 1024, 1024)
overlay_rect = Rect2(1024, 1024, 1024, 0)
item_type = 1

[node name="Sprite2D" type="Sprite2D" parent="Interactable/Drawer"]
position = Vector2(1066, 119)
scale = Vector2(0.31762695, 0.30639648)
texture = ExtResource("2_m45qd")
region_enabled = true
region_rect = Rect2(0, 1024, 1024, 1024)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactable/Drawer"]
position = Vector2(1068.5, 71)
shape = SubResource("RectangleShape2D_ipscb")

[node name="Bed" type="Area2D" parent="Interactable" node_paths=PackedStringArray("ui_node", "sprite")]
script = ExtResource("3_4f8kt")
ui_node = NodePath("../../UI")
sprite = NodePath("Sprite2D")
region_closed = Rect2(2048, 2048, 1024, 1024)
region_open_full = Rect2(0, 3072, 1024, 1024)
region_open_empty = Rect2(1024, 3072, 1024, 1024)
overlay_rect = Rect2(2048, 3072, 1024, 1024)

[node name="Sprite2D" type="Sprite2D" parent="Interactable/Bed"]
position = Vector2(777.00006, 47.000004)
scale = Vector2(0.46752936, 0.4683838)
texture = ExtResource("2_m45qd")
region_enabled = true
region_rect = Rect2(2048, 2048, 1024, 1024)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactable/Bed"]
position = Vector2(716.86, 99.562355)
rotation = 0.36651918
scale = Vector2(19.999992, 19.999992)
shape = SubResource("RectangleShape2D_4f8kt")

[node name="Door" type="Area2D" parent="Interactable" node_paths=PackedStringArray("ui_node", "sprite")]
position = Vector2(-375, -52)
script = ExtResource("3_nal78")
ui_node = NodePath("../../UI")
sprite = NodePath("Sprite2D")

[node name="Sprite2D" type="Sprite2D" parent="Interactable/Door"]
z_index = 1
position = Vector2(-311, 108)
scale = Vector2(0.3217773, 0.32910156)
texture = ExtResource("3_wa058")
flip_h = true
region_enabled = true
region_rect = Rect2(3072, 2048, 1024, 1024)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactable/Door"]
z_index = 1
position = Vector2(-315.39282, 109)
scale = Vector2(19.999994, 19.999994)
shape = SubResource("RectangleShape2D_nal78")

[node name="Wardrobe" type="Area2D" parent="Interactable" node_paths=PackedStringArray("ui_node", "sprite")]
position = Vector2(-395, 594)
script = ExtResource("8_sqprf")
ui_node = NodePath("../../UI")
sprite = NodePath("Sprite2D")
region_closed = Rect2(0, 2048, 1024, 1024)
region_open = Rect2(1024, 2048, 1024, 1024)
region_hidden = Rect2(0, 2048, 1024, 1024)

[node name="Sprite2D" type="Sprite2D" parent="Interactable/Wardrobe"]
position = Vector2(226, -528)
scale = Vector2(0.33374023, 0.41894528)
texture = ExtResource("2_m45qd")
region_enabled = true
region_rect = Rect2(0, 2048, 1024, 1024)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactable/Wardrobe"]
z_index = 1
position = Vector2(231.25, -548.75)
shape = SubResource("RectangleShape2D_nk27n")

[node name="Label2D" type="Label" parent="Interactable/Wardrobe"]
visible = false
offset_left = 128.0
offset_top = -744.0
offset_right = 335.0
offset_bottom = -711.0
theme_override_fonts/font = ExtResource("11_sqprf")
theme_override_font_sizes/font_size = 22
text = "Klik untuk bersembunyi"

[node name="Player" parent="." node_paths=PackedStringArray("ui_node") groups=["Player"] instance=ExtResource("1_c3u0e")]
position = Vector2(-521, 203)
scale = Vector2(0.2, 0.2)
script = ExtResource("2_82n0d")
ui_node = NodePath("../UI")

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(0, -1039.9999)
scale = Vector2(4.9999995, 4.9999995)
limit_left = -708
limit_top = 0
limit_right = 1198
limit_bottom = 0
limit_smoothed = true
position_smoothing_enabled = true

[node name="UI" type="CanvasLayer" parent="."]
process_mode = 3
script = ExtResource("10_nk27n")

[node name="Dimmer" type="ColorRect" parent="UI"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.6)

[node name="Layer_Overlay" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ItemDisplay" type="TextureRect" parent="UI/Layer_Overlay"]
z_index = 3
custom_minimum_size = Vector2(315.8, 315.8)
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -157.90002
offset_top = -157.90002
offset_right = 157.90002
offset_bottom = 157.90002
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 0
texture = SubResource("AtlasTexture_hh1kk")
expand_mode = 1
stretch_mode = 5

[node name="CodeInput" type="Control" parent="UI/Layer_Overlay"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -1.0
offset_top = -11.0
offset_right = -1.0
offset_bottom = -11.0
grow_horizontal = 2
grow_vertical = 2

[node name="TextureRect" type="TextureRect" parent="UI/Layer_Overlay/CodeInput"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -157.90002
offset_top = -157.90002
offset_right = 157.90002
offset_bottom = 157.90002
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("AtlasTexture_jwx35")
expand_mode = 1
stretch_mode = 5

[node name="HBoxContainer" type="HBoxContainer" parent="UI/Layer_Overlay/CodeInput/TextureRect"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -96.00003
offset_top = -5.899994
offset_right = 95.99997
offset_bottom = 58.100006
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 13
alignment = 1

[node name="LineEdit1" type="LineEdit" parent="UI/Layer_Overlay/CodeInput/TextureRect/HBoxContainer"]
visible = false
layout_mode = 2
theme_override_fonts/font = ExtResource("11_sqprf")
theme_override_font_sizes/font_size = 10
max_length = 1

[node name="LineEdit2" type="LineEdit" parent="UI/Layer_Overlay/CodeInput/TextureRect/HBoxContainer"]
visible = false
layout_mode = 2
theme_override_fonts/font = ExtResource("11_sqprf")
theme_override_font_sizes/font_size = 10
max_length = 1

[node name="LineEdit3" type="LineEdit" parent="UI/Layer_Overlay/CodeInput/TextureRect/HBoxContainer"]
visible = false
layout_mode = 2
theme_override_fonts/font = ExtResource("11_sqprf")
theme_override_font_sizes/font_size = 10
max_length = 1

[node name="LineEdit4" type="LineEdit" parent="UI/Layer_Overlay/CodeInput/TextureRect/HBoxContainer"]
visible = false
layout_mode = 2
theme_override_fonts/font = ExtResource("11_sqprf")
theme_override_font_sizes/font_size = 10
max_length = 1

[node name="StaticHint" type="Label" parent="UI"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -96.0
offset_top = -128.0
offset_right = 103.0
offset_bottom = -80.0
grow_horizontal = 2
grow_vertical = 0
theme_override_fonts/font = ExtResource("11_sqprf")
theme_override_font_sizes/font_size = 32
text = "Klik untuk lanjut"

[node name="GameMessage" type="Label" parent="UI"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -20.0
offset_top = 75.0
offset_right = 20.0
offset_bottom = 123.0
grow_horizontal = 2
theme_override_fonts/font = ExtResource("11_sqprf")
theme_override_font_sizes/font_size = 32
horizontal_alignment = 1

[node name="InventoryBar" type="HBoxContainer" parent="UI"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -20.0
offset_top = -61.0
offset_right = 20.0
offset_bottom = -21.0
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 4
size_flags_vertical = 8
theme_override_constants/separation = 10
alignment = 1

[node name="ScreenFade" type="ColorRect" parent="UI"]
self_modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 1)

[connection signal="player_hide_requested" from="Interactable/Wardrobe" to="Player" method="_on_wardrobe_player_hide_requested"]
[connection signal="player_unhide_requested" from="Interactable/Wardrobe" to="Player" method="_on_wardrobe_player_unhide_requested"]
[connection signal="gui_input" from="UI/Dimmer" to="UI" method="_on_dimmer_gui_input"]
[connection signal="gui_input" from="UI/Layer_Overlay/ItemDisplay" to="UI" method="_on_item_display_gui_input"]
