[gd_scene load_steps=18 format=3 uid="uid://wvrbkq17q32i"]

[ext_resource type="Texture2D" uid="uid://c6va06fgo6m6r" path="res://assets/background/BaseMent-BG-Rill.png" id="1_pksbs"]
[ext_resource type="Texture2D" uid="uid://cbx2huqc673oq" path="res://assets/interior/Basement.png" id="2_hlpnm"]
[ext_resource type="Script" uid="uid://cx1o1y0f8lfur" path="res://scripts/basement/stairs_area.gd" id="3_hlpnm"]
[ext_resource type="PackedScene" uid="uid://dfv81o6ccfwxy" path="res://scenes/player.tscn" id="3_vd1ub"]
[ext_resource type="Script" uid="uid://bfviqapwa0mw4" path="res://scripts/player.gd" id="4_lb28k"]
[ext_resource type="Texture2D" uid="uid://c6mp0mgxb54vk" path="res://assets/background/Stairs.png" id="4_s2fia"]
[ext_resource type="FontFile" uid="uid://copw1ojxa4anc" path="res://assets/fonts/IndieFlower-Regular.ttf" id="4_vd1ub"]
[ext_resource type="PackedScene" uid="uid://15dcrow3q255" path="res://scenes/area/brankas.tscn" id="5_c4vks"]
[ext_resource type="Script" uid="uid://bq0op0ose0c4l" path="res://scripts/ui.gd" id="7_5lby1"]
[ext_resource type="FontFile" uid="uid://doffnf5w2w8s3" path="res://assets/fonts/PatrickHand-Regular.ttf" id="9_c4vks"]
[ext_resource type="Script" uid="uid://ccmllkryd8ye4" path="res://scripts/basement/dimmer.gd" id="11_winhs"]
[ext_resource type="Script" uid="uid://bvb82yual4cq0" path="res://scripts/basement/overlay_safe.gd" id="12_tyg0x"]
[ext_resource type="Texture2D" uid="uid://dru6i8fio6r8g" path="res://assets/interior/New Piskel (11).png" id="13_winhs"]
[ext_resource type="FontFile" uid="uid://l1vgn27ae3gq" path="res://assets/fonts/PixeloidSans.ttf" id="14_ss4lf"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_s2fia"]
size = Vector2(2922, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5lby1"]
size = Vector2(10, 864)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vd1ub"]
size = Vector2(224, 448)

[node name="Basement" type="Node2D"]

[node name="World" type="Node2D" parent="."]

[node name="Background" type="Node2D" parent="World"]

[node name="Background-Basement" type="Sprite2D" parent="World/Background"]
position = Vector2(255, 2)
scale = Vector2(0.5, 0.5)
texture = ExtResource("1_pksbs")

[node name="World_Boundaries" type="Node2D" parent="World"]
position = Vector2(0, -40)

[node name="Floor" type="StaticBody2D" parent="World/World_Boundaries"]
position = Vector2(640, 360)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/World_Boundaries/Floor"]
position = Vector2(-161, -110)
shape = SubResource("RectangleShape2D_s2fia")

[node name="Wall_Left" type="StaticBody2D" parent="World/World_Boundaries"]
position = Vector2(640, 360)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/World_Boundaries/Wall_Left"]
position = Vector2(-1350, -349)
shape = SubResource("RectangleShape2D_5lby1")

[node name="Wall_Right" type="StaticBody2D" parent="World/World_Boundaries"]
position = Vector2(640, 360)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/World_Boundaries/Wall_Right"]
position = Vector2(580, -322)
shape = SubResource("RectangleShape2D_5lby1")

[node name="Interiors" type="Node2D" parent="World"]

[node name="Mesin Cuci" type="Sprite2D" parent="World/Interiors"]
position = Vector2(1111, 122)
scale = Vector2(0.3046875, 0.3305664)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(2048, 0, 1024, 1024)

[node name="Barrel" type="Sprite2D" parent="World/Interiors"]
position = Vector2(260.00003, 141)
scale = Vector2(0.27935794, 0.29232785)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(0, 4095, 1024, 1024)

[node name="Kardus-1" type="Sprite2D" parent="World/Interiors"]
position = Vector2(489.00003, 175)
scale = Vector2(0.20172122, 0.215271)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(3072, 0, 1024, 1024)

[node name="Kardus-2" type="Sprite2D" parent="World/Interiors"]
position = Vector2(490.00003, 119.00001)
scale = Vector2(0.22265637, 0.17895508)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(0, 1024, 1024, 1024)

[node name="Kardus-3" type="Sprite2D" parent="World/Interiors"]
position = Vector2(548.5, 178)
scale = Vector2(0.23730472, 0.19531249)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(0, 1024, 1024, 1024)

[node name="Rak" type="Sprite2D" parent="World/Interiors"]
position = Vector2(-245.49998, 57.437515)
scale = Vector2(0.26464844, 0.30749515)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(3072, 3072, 1024, 1024)

[node name="Meteran Listrik" type="Sprite2D" parent="World/Interiors"]
position = Vector2(378, -2.0000153)
scale = Vector2(0.22753906, 0.19921875)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(1024, 4096, 1024, 1024)

[node name="Batang1" type="Sprite2D" parent="World/Interiors"]
position = Vector2(378, -129)
scale = Vector2(0.22753906, 0.19921875)
texture = ExtResource("2_hlpnm")
flip_v = true
region_enabled = true
region_rect = Rect2(1024, 4096, 1024, 256)

[node name="Batang2" type="Sprite2D" parent="World/Interiors"]
position = Vector2(378, -179)
scale = Vector2(0.22753906, 0.19921875)
texture = ExtResource("2_hlpnm")
flip_v = true
region_enabled = true
region_rect = Rect2(1024, 4096, 1024, 256)

[node name="Batang3" type="Sprite2D" parent="World/Interiors"]
position = Vector2(378, -222.98535)
scale = Vector2(0.22753906, 0.21010652)
texture = ExtResource("2_hlpnm")
flip_v = true
region_enabled = true
region_rect = Rect2(1024, 4170.7, 1024, 181.2998)

[node name="Meja" type="Sprite2D" parent="World/Interiors"]
position = Vector2(-524, 142.00002)
scale = Vector2(0.32910156, 0.3369141)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(3072, 1024, 1024, 1024)

[node name="Pegboard" type="Sprite2D" parent="World/Interiors"]
position = Vector2(-521, -1.999999)
scale = Vector2(0.2176209, 0.1923523)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(0, 2048, 1024, 1024)

[node name="Pipe-L" type="Sprite2D" parent="World/Interiors"]
position = Vector2(876, -18)
scale = Vector2(0.1987305, 0.23535155)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(2048, 3072, 1024, 1024)

[node name="Pipe-Lurus1" type="Sprite2D" parent="World/Interiors"]
position = Vector2(860.25, -183.50002)
scale = Vector2(0.1987305, 0.23535155)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(2048, 2048, 1024, 1024)

[node name="Pip-Lurus2" type="Sprite2D" parent="World/Interiors"]
position = Vector2(857, -90.000015)
scale = Vector2(0.19726568, 0.19775389)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(3072, 2048, 1024, 1024)

[node name="Pipe-Lurus3" type="Sprite2D" parent="World/Interiors"]
position = Vector2(953.99994, -1.5550954)
rotation = -1.5707964
scale = Vector2(0.20304374, 0.23535155)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(2048, 2048, 1024, 1024)

[node name="Pipe-Lurus4" type="Sprite2D" parent="World/Interiors"]
position = Vector2(1056, -1.9999999)
rotation = -1.5707964
scale = Vector2(0.20304374, 0.23535155)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(2048, 2048, 1024, 1024)

[node name="Pipe-Lurus5" type="Sprite2D" parent="World/Interiors"]
position = Vector2(1158.0001, -2)
rotation = -1.5707964
scale = Vector2(0.20304374, 0.23535155)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(2048, 2048, 1024, 1024)

[node name="Lamp" type="Sprite2D" parent="World/Interiors"]
z_index = 1
position = Vector2(48, -205.00002)
scale = Vector2(0.11376957, 0.124023445)
texture = ExtResource("2_hlpnm")
region_enabled = true
region_rect = Rect2(0, 0, 1024, 1024)

[node name="Interactables" type="Node2D" parent="."]

[node name="stairs-area" type="Area2D" parent="Interactables" node_paths=PackedStringArray("sprite")]
disable_mode = 2
script = ExtResource("3_hlpnm")
sprite = NodePath("Stairs")
next_scene_path = "res://scenes/area/bedroom.tscn"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/stairs-area"]
z_index = 1
position = Vector2(23, -18)
shape = SubResource("RectangleShape2D_vd1ub")

[node name="Stairs" type="Sprite2D" parent="Interactables/stairs-area"]
position = Vector2(23.000015, -18.749983)
scale = Vector2(0.80125, 0.7961111)
texture = ExtResource("4_s2fia")

[node name="Brankas" parent="Interactables" instance=ExtResource("5_c4vks")]
position = Vector2(797, 156)

[node name="Player" parent="." groups=["Player"] instance=ExtResource("3_vd1ub")]
position = Vector2(-333.00003, 206.00002)
scale = Vector2(0.2, 0.2)
script = ExtResource("4_lb28k")

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(0, -1039.9999)
scale = Vector2(4.9999995, 4.9999995)
limit_left = -708
limit_top = 0
limit_right = 1200
limit_bottom = 0
position_smoothing_enabled = true

[node name="Shadow" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = -18.0
offset_top = -20.0
offset_right = 22.0
offset_bottom = 20.0

[node name="Dark" type="ColorRect" parent="Shadow"]
layout_mode = 0
offset_left = -697.0
offset_top = -500.0
offset_right = 1232.0
offset_bottom = 476.0
mouse_filter = 2
color = Color(0, 0, 0, 0.5647059)

[node name="LampLight" type="ColorRect" parent="Shadow"]
layout_mode = 0
offset_left = 65.00001
offset_top = -152.0
offset_right = 1260.4761
offset_bottom = 864.12585
rotation = 0.7853982
mouse_filter = 2
color = Color(1, 1, 1, 0.10980392)

[node name="UI" type="CanvasLayer" parent="." groups=["UI"]]
process_mode = 3
layer = 10
script = ExtResource("7_5lby1")

[node name="GameMessage" type="Label" parent="UI"]
z_index = 2
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -20.0
offset_top = 40.0
offset_right = 30.0
offset_bottom = 102.0
grow_horizontal = 2
theme_override_fonts/font = ExtResource("9_c4vks")
theme_override_font_sizes/font_size = 35

[node name="StaticHint" type="Label" parent="UI"]
z_index = 2
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -20.0
offset_top = -105.0
offset_right = 30.0
offset_bottom = -36.0
grow_horizontal = 2
grow_vertical = 0
theme_override_fonts/font = ExtResource("4_vd1ub")
theme_override_font_sizes/font_size = 35
horizontal_alignment = 1
vertical_alignment = 1

[node name="Dimmer" type="ColorRect" parent="UI"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 0.6)
script = ExtResource("11_winhs")

[node name="InventoryBar" type="HBoxContainer" parent="UI"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -20.0
offset_top = -61.0
offset_right = 20.0
offset_bottom = -21.0
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 4
size_flags_vertical = 8
theme_override_constants/separation = 10
alignment = 1

[node name="ScreenFade" type="ColorRect" parent="UI"]
self_modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 8.0
offset_bottom = 8.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 1)

[node name="OverlaySafe" type="ColorRect" parent="UI"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
color = Color(0, 0, 0, 0.61960787)
script = ExtResource("12_tyg0x")

[node name="CodePanel" type="Panel" parent="UI"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2

[node name="ImageDisplay" type="TextureRect" parent="UI/CodePanel"]
layout_mode = 0
offset_left = -153.0
offset_top = -153.0
offset_right = -133.0
offset_bottom = -131.375
scale = Vector2(16, 16)
texture = ExtResource("13_winhs")
expand_mode = 1
stretch_mode = 5

[node name="BackButton" type="TextureButton" parent="UI/CodePanel"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Display" type="Label" parent="UI/CodePanel"]
layout_mode = 0
offset_left = -48.999985
offset_top = -117.0
offset_right = -9.647491
offset_bottom = -93.793045
scale = Vector2(2.871483, 1.3358061)
theme_override_fonts/font = ExtResource("14_ss4lf")
theme_override_font_sizes/font_size = 12
horizontal_alignment = 1
vertical_alignment = 1

[node name="Keypad" type="GridContainer" parent="UI/CodePanel"]
show_behind_parent = true
layout_mode = 0
offset_left = -57.0
offset_top = -69.0
offset_right = 14.0
offset_bottom = 324.0
scale = Vector2(1.7666177, 1.6381501)
theme_override_constants/h_separation = 8
columns = 3

[node name="Btn1" type="Button" parent="UI/CodePanel/Keypad"]
layout_mode = 2
text = "1"

[node name="Btn2" type="Button" parent="UI/CodePanel/Keypad"]
layout_mode = 2
text = "2"

[node name="Btn3" type="Button" parent="UI/CodePanel/Keypad"]
layout_mode = 2
text = "3"

[node name="Btn4" type="Button" parent="UI/CodePanel/Keypad"]
layout_mode = 2
text = "4"

[node name="Btn5" type="Button" parent="UI/CodePanel/Keypad"]
layout_mode = 2
text = "5"

[node name="Btn6" type="Button" parent="UI/CodePanel/Keypad"]
layout_mode = 2
text = "6"

[node name="Btn7" type="Button" parent="UI/CodePanel/Keypad"]
layout_mode = 2
text = "7"

[node name="Btn8" type="Button" parent="UI/CodePanel/Keypad"]
layout_mode = 2
text = "8"

[node name="Btn9" type="Button" parent="UI/CodePanel/Keypad"]
layout_mode = 2
text = "9"

[node name="BtnC" type="Button" parent="UI/CodePanel/Keypad"]
layout_mode = 2
text = "C"

[node name="Btn0" type="Button" parent="UI/CodePanel/Keypad"]
layout_mode = 2
text = "0"

[node name="BtnE" type="Button" parent="UI/CodePanel/Keypad"]
layout_mode = 2
text = "E"

[connection signal="gui_input" from="UI/Dimmer" to="UI" method="_on_dimmer_gui_input"]
